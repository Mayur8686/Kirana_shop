{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":42,"index":171}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('auth_token');\n        const storedUser = await SecureStore.getItemAsync('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('auth_token', access_token);\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async data => {\n      try {\n        const response = await _servicesApi.authAPI.signup(data);\n        const {\n          access_token\n        } = response.data;\n\n        // After signup, fetch user data\n        await SecureStore.setItemAsync('auth_token', access_token);\n        const userResponse = await _servicesApi.authAPI.getMe();\n        const userData = userResponse.data;\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await SecureStore.deleteItemAsync('auth_token');\n        await SecureStore.deleteItemAsync('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error during logout:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        isAuthenticated: !!token && !!user,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":134,"map":[[23,2,18,0,"Object"],[23,8,18,0],[23,9,18,0,"defineProperty"],[23,23,18,0],[23,24,18,0,"exports"],[23,31,18,0],[24,4,18,0,"enumerable"],[24,14,18,0],[25,4,18,0,"get"],[25,7,18,0],[25,18,18,0,"get"],[25,19,18,0],[26,6,18,0],[26,13,18,0,"AuthProvider"],[26,25,18,0],[27,4,18,0],[28,2,18,0],[29,2,105,0,"Object"],[29,8,105,0],[29,9,105,0,"defineProperty"],[29,23,105,0],[29,24,105,0,"exports"],[29,31,105,0],[30,4,105,0,"enumerable"],[30,14,105,0],[31,4,105,0,"get"],[31,7,105,0],[31,18,105,0,"get"],[31,19,105,0],[32,6,105,0],[32,13,105,0,"useAuth"],[32,20,105,0],[33,4,105,0],[34,2,105,0],[35,2,1,0],[35,6,1,0,"_react"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,2,0],[36,6,2,0,"_expoSecureStore"],[36,22,2,0],[36,25,2,0,"require"],[36,32,2,0],[36,33,2,0,"_dependencyMap"],[36,47,2,0],[37,2,2,0],[37,6,2,0,"SecureStore"],[37,17,2,0],[37,20,2,0,"_interopNamespace"],[37,37,2,0],[37,38,2,0,"_expoSecureStore"],[37,54,2,0],[38,2,3,0],[38,6,3,0,"_servicesApi"],[38,18,3,0],[38,21,3,0,"require"],[38,28,3,0],[38,29,3,0,"_dependencyMap"],[38,43,3,0],[39,2,3,42],[39,6,3,42,"_reactJsxDevRuntime"],[39,25,3,42],[39,28,3,42,"require"],[39,35,3,42],[39,36,3,42,"_dependencyMap"],[39,50,3,42],[40,2,16,0],[40,8,16,6,"AuthContext"],[40,19,16,17],[40,35,16,20],[40,39,16,20,"createContext"],[40,45,16,33],[40,46,16,33,"createContext"],[40,59,16,33],[40,61,16,63,"undefined"],[40,70,16,72],[40,71,16,73],[41,2,18,7],[41,8,18,13,"AuthProvider"],[41,20,18,66],[41,23,18,69,"AuthProvider"],[41,24,18,70],[42,4,18,72,"children"],[43,2,18,81],[43,3,18,82],[43,8,18,87],[44,4,19,2],[44,10,19,8],[44,11,19,9,"user"],[44,15,19,13],[44,17,19,15,"setUser"],[44,24,19,22],[44,25,19,23],[44,28,19,26],[44,32,19,26,"useState"],[44,38,19,34],[44,39,19,34,"useState"],[44,47,19,34],[44,49,19,48],[44,53,19,52],[44,54,19,53],[45,4,20,2],[45,10,20,8],[45,11,20,9,"token"],[45,16,20,14],[45,18,20,16,"setToken"],[45,26,20,24],[45,27,20,25],[45,30,20,28],[45,34,20,28,"useState"],[45,40,20,36],[45,41,20,36,"useState"],[45,49,20,36],[45,51,20,52],[45,55,20,56],[45,56,20,57],[46,4,21,2],[46,10,21,8],[46,11,21,9,"isLoading"],[46,20,21,18],[46,22,21,20,"setIsLoading"],[46,34,21,32],[46,35,21,33],[46,38,21,36],[46,42,21,36,"useState"],[46,48,21,44],[46,49,21,44,"useState"],[46,57,21,44],[46,59,21,45],[46,63,21,49],[46,64,21,50],[47,4,23,2],[47,8,23,2,"useEffect"],[47,14,23,11],[47,15,23,11,"useEffect"],[47,24,23,11],[47,26,23,12],[47,32,23,18],[48,6,24,4,"loadStoredAuth"],[48,20,24,18],[48,21,24,19],[48,22,24,20],[49,4,25,2],[49,5,25,3],[49,7,25,5],[49,9,25,7],[49,10,25,8],[50,4,27,2],[50,10,27,8,"loadStoredAuth"],[50,24,27,22],[50,27,27,25],[50,33,27,25,"loadStoredAuth"],[50,34,27,25],[50,39,27,37],[51,6,28,4],[51,10,28,8],[52,8,29,6],[52,14,29,12,"storedToken"],[52,25,29,23],[52,28,29,26],[52,34,29,32,"SecureStore"],[52,45,29,43],[52,46,29,44,"getItemAsync"],[52,58,29,56],[52,59,29,57],[52,71,29,69],[52,72,29,70],[53,8,30,6],[53,14,30,12,"storedUser"],[53,24,30,22],[53,27,30,25],[53,33,30,31,"SecureStore"],[53,44,30,42],[53,45,30,43,"getItemAsync"],[53,57,30,55],[53,58,30,56],[53,69,30,67],[53,70,30,68],[54,8,32,6],[54,12,32,10,"storedToken"],[54,23,32,21],[54,27,32,25,"storedUser"],[54,37,32,35],[54,39,32,37],[55,10,33,8,"setToken"],[55,18,33,16],[55,19,33,17,"storedToken"],[55,30,33,28],[55,31,33,29],[56,10,34,8,"setUser"],[56,17,34,15],[56,18,34,16,"JSON"],[56,22,34,20],[56,23,34,21,"parse"],[56,28,34,26],[56,29,34,27,"storedUser"],[56,39,34,37],[56,40,34,38],[56,41,34,39],[57,8,35,6],[58,6,36,4],[58,7,36,5],[58,8,36,6],[58,15,36,13,"error"],[58,20,36,18],[58,22,36,20],[59,8,37,6,"console"],[59,15,37,13],[59,16,37,14,"error"],[59,21,37,19],[59,22,37,20],[59,50,37,48],[59,52,37,50,"error"],[59,57,37,55],[59,58,37,56],[60,6,38,4],[60,7,38,5],[60,16,38,14],[61,8,39,6,"setIsLoading"],[61,20,39,18],[61,21,39,19],[61,26,39,24],[61,27,39,25],[62,6,40,4],[63,4,41,2],[63,5,41,3],[64,4,43,2],[64,10,43,8,"login"],[64,15,43,13],[64,18,43,16],[64,24,43,16,"login"],[64,25,43,23,"email"],[64,30,43,36],[64,32,43,38,"password"],[64,40,43,54],[64,45,43,59],[65,6,44,4],[65,10,44,8],[66,8,45,6],[66,14,45,12,"response"],[66,22,45,20],[66,25,45,23],[66,31,45,29,"authAPI"],[66,43,45,36],[66,44,45,36,"authAPI"],[66,51,45,36],[66,52,45,37,"login"],[66,57,45,42],[66,58,45,43],[67,10,45,45,"email"],[67,15,45,50],[68,10,45,52,"password"],[69,8,45,61],[69,9,45,62],[69,10,45,63],[70,8,46,6],[70,14,46,12],[71,10,46,14,"access_token"],[71,22,46,26],[72,10,46,28,"user"],[72,14,46,32],[72,16,46,34,"userData"],[73,8,46,43],[73,9,46,44],[73,12,46,47,"response"],[73,20,46,55],[73,21,46,56,"data"],[73,25,46,60],[74,8,48,6],[74,14,48,12,"SecureStore"],[74,25,48,23],[74,26,48,24,"setItemAsync"],[74,38,48,36],[74,39,48,37],[74,51,48,49],[74,53,48,51,"access_token"],[74,65,48,63],[74,66,48,64],[75,8,49,6],[75,14,49,12,"SecureStore"],[75,25,49,23],[75,26,49,24,"setItemAsync"],[75,38,49,36],[75,39,49,37],[75,50,49,48],[75,52,49,50,"JSON"],[75,56,49,54],[75,57,49,55,"stringify"],[75,66,49,64],[75,67,49,65,"userData"],[75,75,49,73],[75,76,49,74],[75,77,49,75],[76,8,51,6,"setToken"],[76,16,51,14],[76,17,51,15,"access_token"],[76,29,51,27],[76,30,51,28],[77,8,52,6,"setUser"],[77,15,52,13],[77,16,52,14,"userData"],[77,24,52,22],[77,25,52,23],[78,6,53,4],[78,7,53,5],[78,8,53,6],[78,15,53,13,"error"],[78,20,53,23],[78,22,53,25],[79,8,54,6],[79,14,54,12],[79,18,54,16,"Error"],[79,23,54,21],[79,24,54,22,"error"],[79,29,54,27],[79,30,54,28,"response"],[79,38,54,36],[79,40,54,38,"data"],[79,44,54,42],[79,46,54,44,"detail"],[79,52,54,50],[79,56,54,54],[79,70,54,68],[79,71,54,69],[80,6,55,4],[81,4,56,2],[81,5,56,3],[82,4,58,2],[82,10,58,8,"signup"],[82,16,58,14],[82,19,58,17],[82,25,58,24,"data"],[82,29,58,33],[82,33,58,38],[83,6,59,4],[83,10,59,8],[84,8,60,6],[84,14,60,12,"response"],[84,22,60,20],[84,25,60,23],[84,31,60,29,"authAPI"],[84,43,60,36],[84,44,60,36,"authAPI"],[84,51,60,36],[84,52,60,37,"signup"],[84,58,60,43],[84,59,60,44,"data"],[84,63,60,48],[84,64,60,49],[85,8,61,6],[85,14,61,12],[86,10,61,14,"access_token"],[87,8,61,27],[87,9,61,28],[87,12,61,31,"response"],[87,20,61,39],[87,21,61,40,"data"],[87,25,61,44],[89,8,63,6],[90,8,64,6],[90,14,64,12,"SecureStore"],[90,25,64,23],[90,26,64,24,"setItemAsync"],[90,38,64,36],[90,39,64,37],[90,51,64,49],[90,53,64,51,"access_token"],[90,65,64,63],[90,66,64,64],[91,8,65,6],[91,14,65,12,"userResponse"],[91,26,65,24],[91,29,65,27],[91,35,65,33,"authAPI"],[91,47,65,40],[91,48,65,40,"authAPI"],[91,55,65,40],[91,56,65,41,"getMe"],[91,61,65,46],[91,62,65,47],[91,63,65,48],[92,8,66,6],[92,14,66,12,"userData"],[92,22,66,20],[92,25,66,23,"userResponse"],[92,37,66,35],[92,38,66,36,"data"],[92,42,66,40],[93,8,68,6],[93,14,68,12,"SecureStore"],[93,25,68,23],[93,26,68,24,"setItemAsync"],[93,38,68,36],[93,39,68,37],[93,50,68,48],[93,52,68,50,"JSON"],[93,56,68,54],[93,57,68,55,"stringify"],[93,66,68,64],[93,67,68,65,"userData"],[93,75,68,73],[93,76,68,74],[93,77,68,75],[94,8,70,6,"setToken"],[94,16,70,14],[94,17,70,15,"access_token"],[94,29,70,27],[94,30,70,28],[95,8,71,6,"setUser"],[95,15,71,13],[95,16,71,14,"userData"],[95,24,71,22],[95,25,71,23],[96,6,72,4],[96,7,72,5],[96,8,72,6],[96,15,72,13,"error"],[96,20,72,23],[96,22,72,25],[97,8,73,6],[97,14,73,12],[97,18,73,16,"Error"],[97,23,73,21],[97,24,73,22,"error"],[97,29,73,27],[97,30,73,28,"response"],[97,38,73,36],[97,40,73,38,"data"],[97,44,73,42],[97,46,73,44,"detail"],[97,52,73,50],[97,56,73,54],[97,71,73,69],[97,72,73,70],[98,6,74,4],[99,4,75,2],[99,5,75,3],[100,4,77,2],[100,10,77,8,"logout"],[100,16,77,14],[100,19,77,17],[100,25,77,17,"logout"],[100,26,77,17],[100,31,77,29],[101,6,78,4],[101,10,78,8],[102,8,79,6],[102,14,79,12,"SecureStore"],[102,25,79,23],[102,26,79,24,"deleteItemAsync"],[102,41,79,39],[102,42,79,40],[102,54,79,52],[102,55,79,53],[103,8,80,6],[103,14,80,12,"SecureStore"],[103,25,80,23],[103,26,80,24,"deleteItemAsync"],[103,41,80,39],[103,42,80,40],[103,53,80,51],[103,54,80,52],[104,8,81,6,"setToken"],[104,16,81,14],[104,17,81,15],[104,21,81,19],[104,22,81,20],[105,8,82,6,"setUser"],[105,15,82,13],[105,16,82,14],[105,20,82,18],[105,21,82,19],[106,6,83,4],[106,7,83,5],[106,8,83,6],[106,15,83,13,"error"],[106,20,83,18],[106,22,83,20],[107,8,84,6,"console"],[107,15,84,13],[107,16,84,14,"error"],[107,21,84,19],[107,22,84,20],[107,44,84,42],[107,46,84,44,"error"],[107,51,84,49],[107,52,84,50],[108,6,85,4],[109,4,86,2],[109,5,86,3],[110,4,88,2],[110,24,89,4],[110,28,89,4,"_reactJsxDevRuntime"],[110,47,89,4],[110,48,89,4,"jsxDEV"],[110,54,89,4],[110,56,89,5,"AuthContext"],[110,67,89,16],[110,68,89,17,"Provider"],[110,76,89,25],[111,6,90,6,"value"],[111,11,90,11],[111,13,90,13],[112,8,91,8,"user"],[112,12,91,12],[113,8,92,8,"token"],[113,13,92,13],[114,8,93,8,"isLoading"],[114,17,93,17],[115,8,94,8,"isAuthenticated"],[115,23,94,23],[115,25,94,25],[115,26,94,26],[115,27,94,27,"token"],[115,32,94,32],[115,36,94,36],[115,37,94,37],[115,38,94,38,"user"],[115,42,94,42],[116,8,95,8,"login"],[116,13,95,13],[117,8,96,8,"signup"],[117,14,96,14],[118,8,97,8,"logout"],[119,6,98,6],[119,7,98,8],[120,6,98,8,"children"],[120,14,98,8],[120,16,100,7,"children"],[121,4,100,15],[122,6,100,15,"fileName"],[122,14,100,15],[122,16,100,15,"_jsxFileName"],[122,28,100,15],[123,6,100,15,"lineNumber"],[123,16,100,15],[124,6,100,15,"columnNumber"],[124,18,100,15],[125,4,100,15],[125,11,101,26],[125,12,101,27],[126,2,103,0],[126,3,103,1],[127,2,105,7],[127,8,105,13,"useAuth"],[127,15,105,20],[127,18,105,23,"useAuth"],[127,19,105,23],[127,24,105,29],[128,4,106,2],[128,10,106,8,"context"],[128,17,106,15],[128,20,106,18],[128,24,106,18,"useContext"],[128,30,106,28],[128,31,106,28,"useContext"],[128,41,106,28],[128,43,106,29,"AuthContext"],[128,54,106,40],[128,55,106,41],[129,4,107,2],[129,8,107,6,"context"],[129,15,107,13],[129,20,107,18,"undefined"],[129,29,107,27],[129,31,107,29],[130,6,108,4],[130,12,108,10],[130,16,108,14,"Error"],[130,21,108,19],[130,22,108,20],[130,67,108,65],[130,68,108,66],[131,4,109,2],[132,4,110,2],[132,11,110,9,"context"],[132,18,110,16],[133,2,111,0],[133,3,111,1],[134,0,111,2],[134,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECiB;YCK;GDE;yBEE;GFc;gBGE;GHa;iBIE;GJiB;iBKE;GLS;CDiB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}