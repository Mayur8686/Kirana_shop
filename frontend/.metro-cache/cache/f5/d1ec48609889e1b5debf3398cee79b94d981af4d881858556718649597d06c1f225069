{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":42,"index":171}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('auth_token');\n        const storedUser = await SecureStore.getItemAsync('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('auth_token', access_token);\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async data => {\n      try {\n        const response = await _servicesApi.authAPI.signup(data);\n        const {\n          access_token\n        } = response.data;\n\n        // After signup, fetch user data\n        await SecureStore.setItemAsync('auth_token', access_token);\n        const userResponse = await _servicesApi.authAPI.getMe();\n        const userData = userResponse.data;\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await SecureStore.deleteItemAsync('auth_token');\n        await SecureStore.deleteItemAsync('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error during logout:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        isAuthenticated: !!token && !!user,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":143,"map":[[25,2,18,0,"Object"],[25,8,18,0],[25,9,18,0,"defineProperty"],[25,23,18,0],[25,24,18,0,"exports"],[25,31,18,0],[26,4,18,0,"enumerable"],[26,14,18,0],[27,4,18,0,"get"],[27,7,18,0],[27,18,18,0,"get"],[27,19,18,0],[28,6,18,0],[28,13,18,0,"AuthProvider"],[28,25,18,0],[29,4,18,0],[30,2,18,0],[31,2,105,0,"Object"],[31,8,105,0],[31,9,105,0,"defineProperty"],[31,23,105,0],[31,24,105,0,"exports"],[31,31,105,0],[32,4,105,0,"enumerable"],[32,14,105,0],[33,4,105,0,"get"],[33,7,105,0],[33,18,105,0,"get"],[33,19,105,0],[34,6,105,0],[34,13,105,0,"useAuth"],[34,20,105,0],[35,4,105,0],[36,2,105,0],[37,2,1,0],[37,6,1,0,"_react"],[37,12,1,0],[37,15,1,0,"require"],[37,22,1,0],[37,23,1,0,"_dependencyMap"],[37,37,1,0],[38,2,2,0],[38,6,2,0,"_expoSecureStore"],[38,22,2,0],[38,25,2,0,"require"],[38,32,2,0],[38,33,2,0,"_dependencyMap"],[38,47,2,0],[39,2,2,0],[39,6,2,0,"SecureStore"],[39,17,2,0],[39,20,2,0,"_interopNamespace"],[39,37,2,0],[39,38,2,0,"_expoSecureStore"],[39,54,2,0],[40,2,3,0],[40,6,3,0,"_servicesApi"],[40,18,3,0],[40,21,3,0,"require"],[40,28,3,0],[40,29,3,0,"_dependencyMap"],[40,43,3,0],[41,2,3,42],[41,6,3,42,"_reactJsxDevRuntime"],[41,25,3,42],[41,28,3,42,"require"],[41,35,3,42],[41,36,3,42,"_dependencyMap"],[41,50,3,42],[42,2,16,0],[42,8,16,6,"AuthContext"],[42,19,16,17],[42,35,16,20],[42,39,16,20,"createContext"],[42,45,16,33],[42,46,16,33,"createContext"],[42,59,16,33],[42,61,16,63,"undefined"],[42,70,16,72],[42,71,16,73],[43,2,18,7],[43,8,18,13,"AuthProvider"],[43,20,18,66],[43,23,18,69,"AuthProvider"],[43,24,18,70],[44,4,18,72,"children"],[45,2,18,81],[45,3,18,82],[45,8,18,87],[46,4,18,87,"_s"],[46,6,18,87],[47,4,19,2],[47,10,19,8],[47,11,19,9,"user"],[47,15,19,13],[47,17,19,15,"setUser"],[47,24,19,22],[47,25,19,23],[47,28,19,26],[47,32,19,26,"useState"],[47,38,19,34],[47,39,19,34,"useState"],[47,47,19,34],[47,49,19,48],[47,53,19,52],[47,54,19,53],[48,4,20,2],[48,10,20,8],[48,11,20,9,"token"],[48,16,20,14],[48,18,20,16,"setToken"],[48,26,20,24],[48,27,20,25],[48,30,20,28],[48,34,20,28,"useState"],[48,40,20,36],[48,41,20,36,"useState"],[48,49,20,36],[48,51,20,52],[48,55,20,56],[48,56,20,57],[49,4,21,2],[49,10,21,8],[49,11,21,9,"isLoading"],[49,20,21,18],[49,22,21,20,"setIsLoading"],[49,34,21,32],[49,35,21,33],[49,38,21,36],[49,42,21,36,"useState"],[49,48,21,44],[49,49,21,44,"useState"],[49,57,21,44],[49,59,21,45],[49,63,21,49],[49,64,21,50],[50,4,23,2],[50,8,23,2,"useEffect"],[50,14,23,11],[50,15,23,11,"useEffect"],[50,24,23,11],[50,26,23,12],[50,32,23,18],[51,6,24,4,"loadStoredAuth"],[51,20,24,18],[51,21,24,19],[51,22,24,20],[52,4,25,2],[52,5,25,3],[52,7,25,5],[52,9,25,7],[52,10,25,8],[53,4,27,2],[53,10,27,8,"loadStoredAuth"],[53,24,27,22],[53,27,27,25],[53,33,27,25,"loadStoredAuth"],[53,34,27,25],[53,39,27,37],[54,6,28,4],[54,10,28,8],[55,8,29,6],[55,14,29,12,"storedToken"],[55,25,29,23],[55,28,29,26],[55,34,29,32,"SecureStore"],[55,45,29,43],[55,46,29,44,"getItemAsync"],[55,58,29,56],[55,59,29,57],[55,71,29,69],[55,72,29,70],[56,8,30,6],[56,14,30,12,"storedUser"],[56,24,30,22],[56,27,30,25],[56,33,30,31,"SecureStore"],[56,44,30,42],[56,45,30,43,"getItemAsync"],[56,57,30,55],[56,58,30,56],[56,69,30,67],[56,70,30,68],[57,8,32,6],[57,12,32,10,"storedToken"],[57,23,32,21],[57,27,32,25,"storedUser"],[57,37,32,35],[57,39,32,37],[58,10,33,8,"setToken"],[58,18,33,16],[58,19,33,17,"storedToken"],[58,30,33,28],[58,31,33,29],[59,10,34,8,"setUser"],[59,17,34,15],[59,18,34,16,"JSON"],[59,22,34,20],[59,23,34,21,"parse"],[59,28,34,26],[59,29,34,27,"storedUser"],[59,39,34,37],[59,40,34,38],[59,41,34,39],[60,8,35,6],[61,6,36,4],[61,7,36,5],[61,8,36,6],[61,15,36,13,"error"],[61,20,36,18],[61,22,36,20],[62,8,37,6,"console"],[62,15,37,13],[62,16,37,14,"error"],[62,21,37,19],[62,22,37,20],[62,50,37,48],[62,52,37,50,"error"],[62,57,37,55],[62,58,37,56],[63,6,38,4],[63,7,38,5],[63,16,38,14],[64,8,39,6,"setIsLoading"],[64,20,39,18],[64,21,39,19],[64,26,39,24],[64,27,39,25],[65,6,40,4],[66,4,41,2],[66,5,41,3],[67,4,43,2],[67,10,43,8,"login"],[67,15,43,13],[67,18,43,16],[67,24,43,16,"login"],[67,25,43,23,"email"],[67,30,43,36],[67,32,43,38,"password"],[67,40,43,54],[67,45,43,59],[68,6,44,4],[68,10,44,8],[69,8,45,6],[69,14,45,12,"response"],[69,22,45,20],[69,25,45,23],[69,31,45,29,"authAPI"],[69,43,45,36],[69,44,45,36,"authAPI"],[69,51,45,36],[69,52,45,37,"login"],[69,57,45,42],[69,58,45,43],[70,10,45,45,"email"],[70,15,45,50],[71,10,45,52,"password"],[72,8,45,61],[72,9,45,62],[72,10,45,63],[73,8,46,6],[73,14,46,12],[74,10,46,14,"access_token"],[74,22,46,26],[75,10,46,28,"user"],[75,14,46,32],[75,16,46,34,"userData"],[76,8,46,43],[76,9,46,44],[76,12,46,47,"response"],[76,20,46,55],[76,21,46,56,"data"],[76,25,46,60],[77,8,48,6],[77,14,48,12,"SecureStore"],[77,25,48,23],[77,26,48,24,"setItemAsync"],[77,38,48,36],[77,39,48,37],[77,51,48,49],[77,53,48,51,"access_token"],[77,65,48,63],[77,66,48,64],[78,8,49,6],[78,14,49,12,"SecureStore"],[78,25,49,23],[78,26,49,24,"setItemAsync"],[78,38,49,36],[78,39,49,37],[78,50,49,48],[78,52,49,50,"JSON"],[78,56,49,54],[78,57,49,55,"stringify"],[78,66,49,64],[78,67,49,65,"userData"],[78,75,49,73],[78,76,49,74],[78,77,49,75],[79,8,51,6,"setToken"],[79,16,51,14],[79,17,51,15,"access_token"],[79,29,51,27],[79,30,51,28],[80,8,52,6,"setUser"],[80,15,52,13],[80,16,52,14,"userData"],[80,24,52,22],[80,25,52,23],[81,6,53,4],[81,7,53,5],[81,8,53,6],[81,15,53,13,"error"],[81,20,53,23],[81,22,53,25],[82,8,54,6],[82,14,54,12],[82,18,54,16,"Error"],[82,23,54,21],[82,24,54,22,"error"],[82,29,54,27],[82,30,54,28,"response"],[82,38,54,36],[82,40,54,38,"data"],[82,44,54,42],[82,46,54,44,"detail"],[82,52,54,50],[82,56,54,54],[82,70,54,68],[82,71,54,69],[83,6,55,4],[84,4,56,2],[84,5,56,3],[85,4,58,2],[85,10,58,8,"signup"],[85,16,58,14],[85,19,58,17],[85,25,58,24,"data"],[85,29,58,33],[85,33,58,38],[86,6,59,4],[86,10,59,8],[87,8,60,6],[87,14,60,12,"response"],[87,22,60,20],[87,25,60,23],[87,31,60,29,"authAPI"],[87,43,60,36],[87,44,60,36,"authAPI"],[87,51,60,36],[87,52,60,37,"signup"],[87,58,60,43],[87,59,60,44,"data"],[87,63,60,48],[87,64,60,49],[88,8,61,6],[88,14,61,12],[89,10,61,14,"access_token"],[90,8,61,27],[90,9,61,28],[90,12,61,31,"response"],[90,20,61,39],[90,21,61,40,"data"],[90,25,61,44],[92,8,63,6],[93,8,64,6],[93,14,64,12,"SecureStore"],[93,25,64,23],[93,26,64,24,"setItemAsync"],[93,38,64,36],[93,39,64,37],[93,51,64,49],[93,53,64,51,"access_token"],[93,65,64,63],[93,66,64,64],[94,8,65,6],[94,14,65,12,"userResponse"],[94,26,65,24],[94,29,65,27],[94,35,65,33,"authAPI"],[94,47,65,40],[94,48,65,40,"authAPI"],[94,55,65,40],[94,56,65,41,"getMe"],[94,61,65,46],[94,62,65,47],[94,63,65,48],[95,8,66,6],[95,14,66,12,"userData"],[95,22,66,20],[95,25,66,23,"userResponse"],[95,37,66,35],[95,38,66,36,"data"],[95,42,66,40],[96,8,68,6],[96,14,68,12,"SecureStore"],[96,25,68,23],[96,26,68,24,"setItemAsync"],[96,38,68,36],[96,39,68,37],[96,50,68,48],[96,52,68,50,"JSON"],[96,56,68,54],[96,57,68,55,"stringify"],[96,66,68,64],[96,67,68,65,"userData"],[96,75,68,73],[96,76,68,74],[96,77,68,75],[97,8,70,6,"setToken"],[97,16,70,14],[97,17,70,15,"access_token"],[97,29,70,27],[97,30,70,28],[98,8,71,6,"setUser"],[98,15,71,13],[98,16,71,14,"userData"],[98,24,71,22],[98,25,71,23],[99,6,72,4],[99,7,72,5],[99,8,72,6],[99,15,72,13,"error"],[99,20,72,23],[99,22,72,25],[100,8,73,6],[100,14,73,12],[100,18,73,16,"Error"],[100,23,73,21],[100,24,73,22,"error"],[100,29,73,27],[100,30,73,28,"response"],[100,38,73,36],[100,40,73,38,"data"],[100,44,73,42],[100,46,73,44,"detail"],[100,52,73,50],[100,56,73,54],[100,71,73,69],[100,72,73,70],[101,6,74,4],[102,4,75,2],[102,5,75,3],[103,4,77,2],[103,10,77,8,"logout"],[103,16,77,14],[103,19,77,17],[103,25,77,17,"logout"],[103,26,77,17],[103,31,77,29],[104,6,78,4],[104,10,78,8],[105,8,79,6],[105,14,79,12,"SecureStore"],[105,25,79,23],[105,26,79,24,"deleteItemAsync"],[105,41,79,39],[105,42,79,40],[105,54,79,52],[105,55,79,53],[106,8,80,6],[106,14,80,12,"SecureStore"],[106,25,80,23],[106,26,80,24,"deleteItemAsync"],[106,41,80,39],[106,42,80,40],[106,53,80,51],[106,54,80,52],[107,8,81,6,"setToken"],[107,16,81,14],[107,17,81,15],[107,21,81,19],[107,22,81,20],[108,8,82,6,"setUser"],[108,15,82,13],[108,16,82,14],[108,20,82,18],[108,21,82,19],[109,6,83,4],[109,7,83,5],[109,8,83,6],[109,15,83,13,"error"],[109,20,83,18],[109,22,83,20],[110,8,84,6,"console"],[110,15,84,13],[110,16,84,14,"error"],[110,21,84,19],[110,22,84,20],[110,44,84,42],[110,46,84,44,"error"],[110,51,84,49],[110,52,84,50],[111,6,85,4],[112,4,86,2],[112,5,86,3],[113,4,88,2],[113,24,89,4],[113,28,89,4,"_reactJsxDevRuntime"],[113,47,89,4],[113,48,89,4,"jsxDEV"],[113,54,89,4],[113,56,89,5,"AuthContext"],[113,67,89,16],[113,68,89,17,"Provider"],[113,76,89,25],[114,6,90,6,"value"],[114,11,90,11],[114,13,90,13],[115,8,91,8,"user"],[115,12,91,12],[116,8,92,8,"token"],[116,13,92,13],[117,8,93,8,"isLoading"],[117,17,93,17],[118,8,94,8,"isAuthenticated"],[118,23,94,23],[118,25,94,25],[118,26,94,26],[118,27,94,27,"token"],[118,32,94,32],[118,36,94,36],[118,37,94,37],[118,38,94,38,"user"],[118,42,94,42],[119,8,95,8,"login"],[119,13,95,13],[120,8,96,8,"signup"],[120,14,96,14],[121,8,97,8,"logout"],[122,6,98,6],[122,7,98,8],[123,6,98,8,"children"],[123,14,98,8],[123,16,100,7,"children"],[124,4,100,15],[125,6,100,15,"fileName"],[125,14,100,15],[125,16,100,15,"_jsxFileName"],[125,28,100,15],[126,6,100,15,"lineNumber"],[126,16,100,15],[127,6,100,15,"columnNumber"],[127,18,100,15],[128,4,100,15],[128,11,101,26],[128,12,101,27],[129,2,103,0],[129,3,103,1],[130,2,103,2,"_s"],[130,4,103,2],[130,5,18,13,"AuthProvider"],[130,17,18,66],[131,2,18,66,"_c"],[131,4,18,66],[131,7,18,13,"AuthProvider"],[131,19,18,66],[132,2,105,7],[132,8,105,13,"useAuth"],[132,15,105,20],[132,18,105,23,"useAuth"],[132,19,105,23],[132,24,105,29],[133,4,105,29,"_s2"],[133,7,105,29],[134,4,106,2],[134,10,106,8,"context"],[134,17,106,15],[134,20,106,18],[134,24,106,18,"useContext"],[134,30,106,28],[134,31,106,28,"useContext"],[134,41,106,28],[134,43,106,29,"AuthContext"],[134,54,106,40],[134,55,106,41],[135,4,107,2],[135,8,107,6,"context"],[135,15,107,13],[135,20,107,18,"undefined"],[135,29,107,27],[135,31,107,29],[136,6,108,4],[136,12,108,10],[136,16,108,14,"Error"],[136,21,108,19],[136,22,108,20],[136,67,108,65],[136,68,108,66],[137,4,109,2],[138,4,110,2],[138,11,110,9,"context"],[138,18,110,16],[139,2,111,0],[139,3,111,1],[140,2,111,2,"_s2"],[140,5,111,2],[140,6,105,13,"useAuth"],[140,13,105,20],[141,2,105,20],[141,6,105,20,"_c"],[141,8,105,20],[142,2,105,20,"$RefreshReg$"],[142,14,105,20],[142,15,105,20,"_c"],[142,17,105,20],[143,0,105,20],[143,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECiB;YCK;GDE;yBEE;GFc;gBGE;GHa;iBIE;GJiB;iBKE;GLS;CDiB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}